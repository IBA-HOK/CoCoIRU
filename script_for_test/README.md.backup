# CoCoIRU テストスクリプト - 完全自動セットアップ

## 簡単な実行方法（推奨）

1. **依存パッケージをインストール**（初回のみ）
   ```bash
   cd /home/hokuto/ドキュメント/github/CoCoIRU
   npm install
   ```

2. **APIサーバーを起動**
   ```bash
   uvicorn app.main:app --reload
   ```

3. **テストスクリプトを実行**（別のターミナルで）
   ```bash
   cd /home/hokuto/ドキュメント/github/CoCoIRU
   node script_for_test/testcom.js
   ```

初回実行時は自動的にシードコミュニティが作成され、その後テストコミュニティが生成されます。

## トラブルシューティング

### データベーススキーマエラーが出る場合

```bash
cd /home/hokuto/ドキュメント/github/CoCoIRU
rm -f database.db
# APIサーバーを再起動すると新しいスキーマで再作成されます
```

## 環境変数（オプション）

プロジェクトルートの `.env` ファイルで設定可能:

- `API_BASE`: APIベースURL（デフォルト: http://127.0.0.1:8000）
- `NUM_TO_CREATE`: 生成するコミュニティ数（デフォルト: 50）
- `SEED_COMMUNITY_ID`: 既存シードのID（未設定時は自動作成）
- `SEED_COMMUNITY_PASSWORD`: 既存シードのパスワード（未設定時は自動作成）

## 詳細

スクリプトは以下を自動で実行します:
1. 親ディレクトリの `.env` を読み込み
2. シードコミュニティが未設定なら自動作成
3. 認証トークンを取得
4. 指定数のランダムコミュニティを並列生成
5. 各コミュニティのIDとパスワードをコンソールに表示
